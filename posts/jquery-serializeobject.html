<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Kingbbode | Jquery Plugin 소개 - form 데이터를 Object로 만들기</title>
  <meta name="description" content="form 데이터와 실제 서버 데이터 스펙을 어떻게 맞추고 계신가요? 유용한 Jquery Plugin을 정리 및 소개합니다.">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="Jquery Plugin 소개 - form 데이터를 Object로 만들기">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://kingbbode.github.io/posts/jquery-serializeobject">
  <meta property="og:description" content="form 데이터와 실제 서버 데이터 스펙을 어떻게 맞추고 계신가요? 유용한 Jquery Plugin을 정리 및 소개합니다.">
  <meta property="og:site_name" content="Kingbbode">
  <meta property="og:image" content="https://kingbbode.github.io/assets/og-image.jpg">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://kingbbode.github.io/posts/jquery-serializeobject">
  <meta name="twitter:title" content="Jquery Plugin 소개 - form 데이터를 Object로 만들기">
  <meta name="twitter:description" content="form 데이터와 실제 서버 데이터 스펙을 어떻게 맞추고 계신가요? 유용한 Jquery Plugin을 정리 및 소개합니다.">
  <meta name="twitter:image" content="https://kingbbode.github.io/assets/og-image.jpg">

  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
  <link href="https://kingbbode.github.io/feed.xml" type="application/rss+xml" rel="alternate" title="Kingbbode Last 10 blog posts" />

  
    <link type="text/css" rel="stylesheet" href="/assets/dark.css">
  
</head>

<body>
  <main role="main">
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav reveal">
  <a href="/" class="header-logo" title="Kingbbode">Kingbbode</a>
  <ul class="header-links">
    
      <li>
        <a href="/about" title="About me">
          <span class="icon icon-android-person"></span>
        </a>
      </li>
    
    
      <li>
        <a href="https://twitter.com/kingbbode" target="_blank" title="Twitter">
          <span class="icon icon-social-twitter"></span>
        </a>
      </li>
    
    
      <li>
        <a href="https://www.facebook.com/iwannaknowcoding" target="_blank" title="Facebook">
          <span class="icon icon-social-facebook"></span>
        </a>
      </li>
    
    
      <li>
        <a href="https://github.com/kingbbode" target="_blank" title="GitHub">
          <span class="icon icon-social-github"></span>
        </a>
      </li>
    
    
      <li>
        <a href="https://dribbble.com/kingbbode" target="_blank" title="Dribbble">
          <span class="icon icon-social-dribbble-outline"></span>
        </a>
      </li>
    
    
    
    
    
      <li>
        <a href="mailto:kingbbode@gmail.com" title="Email">
          <span class="icon icon-at"></span>
        </a>
      </li>
    
    
      <li>
        <a href="/feed.xml" target="_blank" title="RSS">
          <span class="icon icon-social-rss"></span>
        </a>
      </li>
    
  </ul>
</nav>

        <article class="article reveal">
          <header class="article-header">
            <h1>Jquery Plugin 소개 - form 데이터를 Object로 만들기</h1>
            <p>form 데이터와 실제 서버 데이터 스펙을 어떻게 맞추고 계신가요? 유용한 Jquery Plugin을 정리 및 소개합니다.</p>
            <div class="article-list-footer">
              <span class="article-list-date">
                February 8, 2017
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  7 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
                  <a href="/tag/javascript">javascript</a>
                
                  <a href="/tag/jquery">jquery</a>
                
                  <a href="/tag/form">form</a>
                
                  <a href="/tag/spa">spa</a>
                
                  <a href="/tag/ajax">ajax</a>
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <p>이번 포스팅에서는 유용한 Jquery 플러그인을 소개하려고 합니다.</p>

<p><img src="/images/2017/2017-02-08-JQUERY-SERIALIZEOBJECT/main.png" alt="main" /></p>

<p><code class="highlighter-rouge">form</code> 데이터를 <code class="highlighter-rouge">Object</code>로 바꿔주는 것을 도와주는 <a href="https://plugins.jquery.com/serializeObject/">Jquery serializeObject 플러그인</a> 입니다.</p>

<h3 id="왜-form-데이터를-object-변환하는-것이-필요한가">왜 <code class="highlighter-rouge">form</code> 데이터를 <code class="highlighter-rouge">Object</code> 변환하는 것이 필요한가?</h3>

<p>HTML에서 사용자의 데이터를 서버에 전송하는 방법은 <code class="highlighter-rouge">form</code>을 사용하는 것 입니다. <code class="highlighter-rouge">form</code>은 form 내부의 type이 submit인 input 태그의 작동으로 인해 HTML의 기본 인터렉션이 실행되어 데이터를 전송하게 됩니다.</p>

<p>SPA가 활성화되면서 대부분의 어플리케이션에서 기존 인터렉션의 방식 대신, 여러가지 방식으로 submit을 intercept하여 데이터를 비동기로 전송하고 있습니다. 이 때 필요한 것이 <code class="highlighter-rouge">form</code> 데이터의 <code class="highlighter-rouge">Object</code> 변환입니다.</p>

<p>많은 프론트 프레임워크들이 SPA를 쉽게 지원하기 위하여 등장하였지만, Angularjs를 제외한 대부분의 프레임워크는 데이터를 단방향으로 바인딩하기 때문에, 결국에는 사용자가 작성한 데이터를 각 프레임워크의 특정 구조로 바인딩 시켜야하기 때문에, <code class="highlighter-rouge">form</code> 데이터의 <code class="highlighter-rouge">Object</code> 변환은 불가피해 보입니다.</p>

<h3 id="dom을-탐색하여-값을-셋팅하고-있지는-않은가">Dom을 탐색하여 값을 셋팅하고 있지는 않은가?</h3>

<p>데이터를 비동기로 전송하기 위하여 데이터를 Dom 탐색하고 있진 않으신가요?</p>

<p><strong>HTML</strong></p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"form"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"email"</span> <span class="na">name=</span><span class="s">"email"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"age"</span> <span class="na">name=</span><span class="s">"age"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
</div>

<p><strong>javascript</strong></p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">email</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#email'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">age</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#age'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">email</span> <span class="p">:</span> <span class="nx">email</span><span class="p">,</span>
  <span class="na">age</span> <span class="p">:</span> <span class="nx">age</span>
<span class="p">};</span>
</code></pre>
</div>

<p>데이터가 적을 때는 간단할 수 있겠지만, 데이터가 많아질 수록 셋팅하기 힘들어지고, <code class="highlighter-rouge">form</code>을 수정하면 <code class="highlighter-rouge">javasript</code>도 수정해야하는 정말 귀찮아지는 코드가 될 것 입니다.</p>

<p><img src="/images/2017/2017-02-08-JQUERY-SERIALIZEOBJECT/omg.png" alt="omg" /></p>

<p><strong>이쯤 되면 <code class="highlighter-rouge">form</code>을 <code class="highlighter-rouge">Object</code>로 만들어주는 것은 필요한 일이라는 것을 아실 겁니다!</strong></p>

<h3 id="직접-구현해서-사용하면-되지-않은가">직접 구현해서 사용하면 되지 않은가?</h3>

<p>검색을 통해 찾아보면 <code class="highlighter-rouge">serializeObject</code>를 직접 구현하면 된다는 수많은 글들을 볼 수 있습니다.</p>

<p><code class="highlighter-rouge">form</code> 데이터를 <code class="highlighter-rouge">Object</code>로 만드는데에 핵심적인 기술은 <code class="highlighter-rouge">Jquery</code>에서 지원하는 <code class="highlighter-rouge">serializeArray</code>입니다.</p>

<p><code class="highlighter-rouge">serializeArray</code>는 <code class="highlighter-rouge">form</code> 내부의 input 태그의 특정 type의 name 속성을 key, 값은 value로 갖는 Object들의 배열을 만들어줍니다.</p>

<p><strong>HTML</strong></p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"form"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"email"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"age"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
</div>

<p><strong>javascript</strong></p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span><span class="s2">"#form"</span><span class="p">).</span><span class="nx">serializeArray</span><span class="p">();</span>

<span class="err">결과</span> <span class="err">:</span>
<span class="p">[{</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"email"</span><span class="p">,</span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"kingbbode@gmail.com"</span><span class="p">},{</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"age"</span><span class="p">,</span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"29"</span><span class="p">}]</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">serializeObject</code>는 <code class="highlighter-rouge">serializeArray</code>를 사용하여 직접 구현할 수 있습니다.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">serializeObject</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">tagName</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">tagName</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">==</span> <span class="s2">"FORM"</span> <span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">serializeArray</span><span class="p">();</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
        <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>    
        <span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">obj</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
        <span class="p">});</span>             
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
  <span class="p">}</span><span class="k">finally</span>  <span class="p">{}</span>
  <span class="k">return</span> <span class="nx">obj</span><span class="p">;</span>
<span class="p">}</span>

<span class="err">결과</span><span class="p">:</span>
<span class="p">{</span>
  <span class="na">email</span> <span class="p">:</span> <span class="s2">"kingbbode@gmail.com"</span><span class="p">,</span>
  <span class="na">age</span> <span class="p">:</span> <span class="s2">"29"</span>
<span class="p">}</span>
</code></pre>
</div>

<p><em>출처: http://seongilman.tistory.com/277 [SEONG]</em></p>

<p>비교적 간단하게 구현 가능합니다.</p>

<p><strong>그럼에도 플러그인를 추천하는 이유가 당연히 있습니다</strong></p>

<h3 id="실제-데이터와-같은-형태의-form-데이터를-원한다">실제 데이터와 같은 형태의 <code class="highlighter-rouge">form</code> 데이터를 원한다!</h3>

<p><strong>서버로 보내야할 데이터 스펙</strong></p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="err">title</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="nt">""</span><span class="err">,</span><span class="w">
  </span><span class="err">statudents</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="err">name</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="nt">""</span><span class="err">,</span><span class="w">
        </span><span class="err">age</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="err">name</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="nt">""</span><span class="err">,</span><span class="w">
        </span><span class="err">age</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="err">name</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="nt">""</span><span class="err">,</span><span class="w">
        </span><span class="err">age</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>서버로 보내야할 데이터 스펙을 위와 같이 정의해놓고 플러그인을 쓰면 무엇이 좋은지를 설명하겠습니다.</p>

<h4 id="직접-구현한-간단한-스크립트의-문제점">직접 구현한 간단한 스크립트의 문제점</h4>

<p><strong>HTML</strong></p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"form"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"title"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"name1"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"age1"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"name2"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"age2"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"name3"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"age3"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
</div>

<p><strong>serializeObject 결과</strong></p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="err">title</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="nt">""</span><span class="err">,</span><span class="w">
  </span><span class="err">name1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="err">age1</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="err">name2</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="err">age2</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="err">name3</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="err">age3</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Object의 key 값이 중복될 수 없기 때문에, name을 다르게 정의를 하여 object로 만들어야 합니다. 딱 보아도 원했던 데이터 스펙과는 많이 다릅니다.</p>

<p>그럼 여기서 나온 값으로 원하는 데이터 스펙으로 다시 변환하는 과정을 거친다면? <strong>결국 dom 탐색을 했을 때 두번 일하는 번거로운 코드가 된다는 것보다 더 귀찬은 코드가 될 것 입니다.</strong></p>

<p>그럼 key 값이 중복일 때 array로 만들어주거나 object화하는 기능을 추가하여야 할 듯 합니다.</p>

<p>그럼 코드가 간단하지는 않겠네요…</p>

<p><img src="/images/2017/2017-02-08-JQUERY-SERIALIZEOBJECT/omg.png" alt="omg" /></p>

<p><strong>이쯤되면 그냥 플러그인 쓰는게 좋겠다는 결론이 나옵니다.</strong></p>

<h4 id="플러그인은-무엇을-해주는가">플러그인은 무엇을 해주는가?</h4>

<p>플러그인의 기본 기능은 위 직접 작성한 기능과 같습니다. 거기에 더하여 이 플러그인의 가장 큰 장점이라고 생각되는 것은 name을 통한 객체화 방법입니다.</p>

<p><strong>push</strong></p>

<p>동일한 이름을 갖는 name은 array로 묶어줍니다.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"foo"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"a"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"foo"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"b"</span><span class="o">&gt;</span>

<span class="err">결과:</span>
<span class="p">{</span><span class="nl">foo</span><span class="p">:</span> <span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">]}</span>
</code></pre>
</div>

<p><strong>fixed</strong></p>

<p>숫자인자를 갖는 []로 선언시 value는 array의 특정 index에 추가됩니다.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"foo[2]"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"a"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"foo[4]"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"b"</span><span class="o">&gt;</span>

<span class="err">결과:</span>
<span class="p">{</span><span class="nl">foo</span><span class="p">:</span> <span class="p">[,</span><span class="s2">"a"</span><span class="p">,</span> <span class="p">,</span><span class="s2">"b"</span><span class="p">]}</span>
</code></pre>
</div>

<p><strong>named</strong></p>

<p>문자인자를 갖는 []로 선언시 인자를 key 값, value를 value로 한 object를 생성합니다.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"foo[bar]"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"a"</span><span class="o">&gt;</span>

<span class="err">결과:</span>
<span class="p">{</span><span class="nl">foo</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="nl">bar</span> <span class="p">:</span> <span class="s2">"a"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>기능들을 조합하면 다양한 형태로 Object 구성이 가능합니다.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"foo[0][bar]"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"a"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"foo[0][baf]"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"b"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"foo[1][bar]"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"c"</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"foo[1][baf]"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"d"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"foo[2][bar]"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"e"</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"foo[2][baf]"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"f"</span><span class="o">&gt;</span>

<span class="err">결과:</span>
<span class="p">{</span><span class="nl">foo</span><span class="p">:</span>
  <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">bar</span> <span class="p">:</span> <span class="s2">"a"</span><span class="p">,</span>
      <span class="na">baf</span> <span class="p">:</span> <span class="s2">"b"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">bar</span> <span class="p">:</span> <span class="s2">"c"</span><span class="p">,</span>
      <span class="na">baf</span> <span class="p">:</span> <span class="s2">"d"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">bar</span> <span class="p">:</span> <span class="s2">"e"</span><span class="p">,</span>
      <span class="na">baf</span> <span class="p">:</span> <span class="s2">"f"</span>
    <span class="p">},</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<p>자세한 지원 기능은 <a href="https://github.com/macek/jquery-serialize-object">GitHub에 명세된 API</a>를 확인해보시길 바랍니다.</p>

<h4 id="플러그인을-사용한-객체화">플러그인을 사용한 객체화</h4>

<p><strong>HTML</strong></p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"form"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"title"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"statudents[0][name]"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"statudents[0][age]"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"statudents[1][name]"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"statudents[1][age]"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"statudents[2][name]"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"statudents[2][age]"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
</div>

<p><strong>serializeObject 결과</strong></p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="err">title</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="nt">""</span><span class="err">,</span><span class="w">
  </span><span class="err">statudents</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="err">name</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="nt">""</span><span class="err">,</span><span class="w">
        </span><span class="err">age</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="err">name</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="nt">""</span><span class="err">,</span><span class="w">
        </span><span class="err">age</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="err">name</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="nt">""</span><span class="err">,</span><span class="w">
        </span><span class="err">age</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>원했던 정확한 데이터가 나옵니다. 이제 불필요한 2차 작업은 필요 없을 것 입니다! 플러그인을 통해 더 깔끔하고, 유지보수하기 쉬운 코드가 작성됐다고 생각됩니다.</p>

<h4 id="플러그인-단점">플러그인 단점</h4>

<p>name 값이 변경되었기 때문에, form의 기본 인터렉션은 사용이 어려울 것으로 보입니다. 비동기만을 위한 form 작성에 적합할 것 입니다.</p>

<h2 id="마치며">마치며</h2>

<p><img src="/images/2017/2017-02-08-JQUERY-SERIALIZEOBJECT/th.png" alt="th" /></p>

<p>이 플러그인을 소개하게 된 개기는 후배 개발자가 플러그인의 <code class="highlighter-rouge">serializeObject</code>를 사용하며 겪은 문제점을 함께 해결해가면서 얻은 정보를 공유하기 위함입니다.</p>

<p><code class="highlighter-rouge">form</code> 데이터와 원하는 데이터 스펙을 쉽게 통일 시켜 사용할 수 있게 하여 단방향 바인딩의 일부 단점을 보완해줄 수 있는 좋은 플러그인이라고 생각했습니다.</p>

<p>웹상 관련된 한글 문서를 보지 못하기도 하였으며, 정작 이 플러그인을 많은 곳에서 쓰고 있지만 이것이 플러그인인지도 모를 수도 있겠단 생각이 들었습니다.</p>

<p>기본 인터렉션을 사용할 수 없는 문제가 있지만, SPA를 구성할 때는 적절하고 좋은 플러그인일 듯 합니다.</p>

          </div>

          <div class="article-share">
            
            <a href="" title="Share on Twitter" onclick="window.open('https://twitter.com/home?status=Jquery Plugin 소개 - form 데이터를 Object로 만들기 - https://kingbbode.github.io/posts/jquery-serializeobject by @kingbbode', 'newwindow', 'width=500, height=225'); return false;" data-turbolinks="false">
              <svg enable-background="new 0 0 128 128" width="15px" version="1.1" viewBox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="_x37__stroke"><g id="Twitter"><rect clip-rule="evenodd" fill="none" fill-rule="evenodd" height="128" width="128"/><path clip-rule="evenodd" d="M128,23.294    c-4.703,2.142-9.767,3.59-15.079,4.237c5.424-3.328,9.587-8.606,11.548-14.892c-5.079,3.082-10.691,5.324-16.687,6.526    c-4.778-5.231-11.608-8.498-19.166-8.498c-14.493,0-26.251,12.057-26.251,26.927c0,2.111,0.225,4.16,0.676,6.133    C41.217,42.601,21.871,31.892,8.91,15.582c-2.261,3.991-3.554,8.621-3.554,13.552c0,9.338,4.636,17.581,11.683,22.412    c-4.297-0.131-8.355-1.356-11.901-3.359v0.331c0,13.051,9.053,23.937,21.074,26.403c-2.201,0.632-4.523,0.948-6.92,0.948    c-1.69,0-3.343-0.162-4.944-0.478c3.343,10.694,13.035,18.483,24.53,18.691c-8.986,7.227-20.315,11.533-32.614,11.533    c-2.119,0-4.215-0.123-6.266-0.37c11.623,7.627,25.432,12.088,40.255,12.088c48.309,0,74.717-41.026,74.717-76.612    c0-1.171-0.023-2.342-0.068-3.49C120.036,33.433,124.491,28.695,128,23.294" fill-rule="evenodd" id="Twitter_1_"/></g></g></svg>
            </a>
            <a href="" title="Share on Facebook" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=https://kingbbode.github.io/posts/jquery-serializeobject', 'newwindow', 'width=500, height=500'); return false;" data-turbolinks="false">
              <svg enable-background="new 0 0 128 128" width="15px" version="1.1" viewBox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="_x31__stroke"><g id="Facebook_1_"><rect fill="none" height="128" width="128"/><path clip-rule="evenodd" d="M68.369,128H7.065C3.162,128,0,124.836,0,120.935    V7.065C0,3.162,3.162,0,7.065,0h113.871C124.837,0,128,3.162,128,7.065v113.87c0,3.902-3.163,7.065-7.064,7.065H88.318V78.431    h16.638l2.491-19.318H88.318V46.78c0-5.593,1.553-9.404,9.573-9.404l10.229-0.004V20.094c-1.769-0.235-7.841-0.761-14.906-0.761    c-14.749,0-24.846,9.003-24.846,25.535v14.246H51.688v19.318h16.681V128z" fill-rule="evenodd" id="Facebook"/></g></g></svg>
            </a>
            <a href="" title="Share on Google+" onclick="window.open('https://plus.google.com/share?url=https://kingbbode.github.io/posts/jquery-serializeobject', 'newwindow', 'width=550, height=400'); return false;" data-turbolinks="false">
              <svg enable-background="new 0 0 128 128" version="1.1" viewBox="0 0 128 128" width="20px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="_x35__stroke"><g id="Google_Plus"><rect clip-rule="evenodd" fill="none" fill-rule="evenodd" height="128" width="128"/><path clip-rule="evenodd" d="M40.654,55.935v16.13    c0,0,15.619-0.021,21.979-0.021C59.189,82.5,53.834,88.194,40.654,88.194c-13.338,0-23.748-10.832-23.748-24.194    s10.41-24.194,23.748-24.194c7.052,0,11.607,2.483,15.784,5.944c3.344-3.35,3.065-3.828,11.573-11.877    c-7.222-6.586-16.822-10.6-27.357-10.6C18.201,23.273,0,41.507,0,64c0,22.493,18.201,40.727,40.654,40.727    c33.561,0,41.763-29.275,39.044-48.792H40.654z M113.912,56.742V42.628h-10.063v14.113H89.358v10.081h14.491v14.517h10.063V66.823    H128V56.742H113.912z" fill-rule="evenodd" id="Google_Plus_1_"/></g></g></svg>
            </a>
          </div>

          
        </article>
        <footer class="footer reveal">
  <p>
    <a href="/about" title="About me">Kingbbode</a>
  </p>
</footer>

      </div>
    </div>
  </main>
  <script type="text/javascript" src="/assets/vendor.js"></script>
<script type="text/javascript" src="/assets/application.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Cormorant Garamond:700', 'Lato:300,400,700']
    }
  });
</script>


  <script>
    window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
    ga('create','UA-75876601-1','auto');ga('send','pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>


</body>
</html>
