<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Kingbbode | 개발자의 재능기부 == 자기개발</title>
  <meta name="description" content="개발자에게 재능기부란? 재능기부를 가장하여 기술 사용과 습득의 목마름을 해소한 경험(자기개발?)을 기록으로 남겨봅니다.">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="개발자의 재능기부 == 자기개발">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://kingbbode.github.io/posts/donation">
  <meta property="og:description" content="개발자에게 재능기부란? 재능기부를 가장하여 기술 사용과 습득의 목마름을 해소한 경험(자기개발?)을 기록으로 남겨봅니다.">
  <meta property="og:site_name" content="Kingbbode">
  <meta property="og:image" content="https://kingbbode.github.io/assets/og-image.jpg">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://kingbbode.github.io/posts/donation">
  <meta name="twitter:title" content="개발자의 재능기부 == 자기개발">
  <meta name="twitter:description" content="개발자에게 재능기부란? 재능기부를 가장하여 기술 사용과 습득의 목마름을 해소한 경험(자기개발?)을 기록으로 남겨봅니다.">
  <meta name="twitter:image" content="https://kingbbode.github.io/assets/og-image.jpg">

  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
  <link href="https://kingbbode.github.io/feed.xml" type="application/rss+xml" rel="alternate" title="Kingbbode Last 10 blog posts" />

  
    <link type="text/css" rel="stylesheet" href="/assets/dark.css">
  
</head>

<body>
  <main role="main">
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav reveal">
  <a href="/" class="header-logo" title="Kingbbode">
    <img src="https://www.gravatar.com/avatar/f4c8a1baaf62285612634ec4eec327fd?s=150" alt="kingbbode" style="width:135px;height: 135px;border-radius:100%;margin: auto;display:block;">
    Kingbbode
  </a>
  <ul class="header-links">
    
      <li>
        <a href="/about" title="About me">
          <span class="icon icon-android-person"></span>
        </a>
      </li>
    
    
    
      <li>
        <a href="https://www.facebook.com/kingbbode" target="_blank" title="Facebook">
          <span class="icon icon-social-facebook"></span>
        </a>
      </li>
    
    
      <li>
        <a href="https://www.instagram.com/kingbbode_dev" target="_blank" title="Instagram">
          <span class="icon icon-social-instagram"></span>
        </a>
      </li>
    
    
      <li>
        <a href="https://github.com/kingbbode" target="_blank" title="GitHub">
          <span class="icon icon-social-github"></span>
        </a>
      </li>
    
    
    
    
    
    
      <li>
        <a href="mailto:kingbbode@gmail.com" title="Email">
          <span class="icon icon-at"></span>
        </a>
      </li>
    
    
      <li>
        <a href="/feed.xml" target="_blank" title="RSS">
          <span class="icon icon-social-rss"></span>
        </a>
      </li>
    
  </ul>
</nav>

        <article class="article reveal">
          <header class="article-header">
            <h1>개발자의 재능기부 == 자기개발</h1>
            <p>개발자에게 재능기부란? 재능기부를 가장하여 기술 사용과 습득의 목마름을 해소한 경험(자기개발?)을 기록으로 남겨봅니다.</p>
            <div class="article-list-footer">
              <span class="article-list-date">
                March 25, 2017
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  7 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
                  <a href="/tag/web">web</a>
                
                  <a href="/tag/think">think</a>
                
                  <a href="/tag/javascript">javascript</a>
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <p>본 내용에서 최대한 기술적인 이야기를 빼려고 노력했습니다.</p>

<h2 id="기술-사용과-습득의-목마름">기술 사용과 습득의 목마름..</h2>

<h3 id="aws">AWS</h3>

<p><img src="/images/2017/2017-03-25-DONATION/aws.png" alt="aws" /></p>

<p>AWS를 다룰 줄 아는 것이 기술스택이 된 요즘에 개발자로서 AWS를 공부해야겠다는 생각을 많이들 하고 있을 것 입니다. 저도 오래 전부터 그런 생각을 가지고 세미나도 참여해보고, 관련 이론들도 찾아보고 했지만, 역시 개발자는 직접해보는 것이 최고라고 생각합니다!</p>

<p>그렇지만! EC2에 어플리케이션 한번 올려보고, S3에 파일 한번 올려보면 끝인 것일까요? 웹어플리케이션을 개발하며 <code class="highlighter-rouge">localhost:8080</code>을 띄우고 끝이라는 상황과 비슷하지 않을까요?</p>

<p>아쉽지만, 제 주변에는 AWS를 운용하고 있는 환경이 없었습니다.</p>

<h3 id="최신-프레임워크--라이브러리">최신 프레임워크 &amp; 라이브러리</h3>

<p>프레임워크 혹은 라이브러리는 여러가지 방법으로 시간이 지날수록 더 많은 기능을 제공해주고 있습니다. 새로운 기능과 개선된 기능들을 보면 써보고 싶어집니다.</p>

<p>그렇지만! 회사의 프로덕트에 적용하기엔, 너무 많은 변화로 리소스를 소비하게 될 수도 있고, 변화에 대한 책임을 질 수 있을지도 의문이 듭니다. 간단한 개인 프로젝트로 기능을 사용해볼 순 있지만, 만들고자 하는 것의 목표가 없기때문에 사용해보는 것에 그치고 그냥 맛만 보았다 정도로 마무리가 되는 경우가 많습니다.</p>

<hr />

<h2 id="재능기부의-발단">재능기부의 발단</h2>

<p><code class="highlighter-rouge">개발자로서 지인을 위해 해줄 수 있는 것이 무엇이 있을까요?</code></p>

<p>약 한달 전 가장 친한 친구 중 한명의 결혼 소식을 들려왔습니다! 결혼할 친구는 노래 잘 부르는 친구에게 축가를, 모델 일을 하고 있는 멋진 친구에게는 사회를 부탁했고</p>

<p>개발자 부심 넘치는 저는 <strong>“내가 웨딩 홈페이지 만들어줄게!”</strong> 로 친구를 위한 재능기부를 하게 되었습니다.</p>

<p><img src="/images/2017/2017-03-25-DONATION/ngs.jpg" alt="내가 하고싶은 거 할꺼야" /></p>

<p>사실 친구를 위한 뿌듯한 마음보다는,</p>

<p><strong>‘AWS 써봐야지, Spring Boot 최신버전 써봐야지, Angularjs2도 써봐야지’</strong></p>

<p>라는 생각으로 설레었습니다.</p>

<hr />

<h2 id="재능기부-시작">재능기부 시작</h2>

<h3 id="1-디자인마크업">1. 디자인,마크업?</h3>

<h4 id="첫-번째-난관은-바로-디자인과-마크업입니다">첫 번째 난관은 바로 디자인과 마크업입니다.</h4>

<p>처음에는 대충 <code class="highlighter-rouge">Bootstrap</code>이나 <code class="highlighter-rouge">Material Design</code>을 사용하면 될 것으로 생각했으나 국내 웨딩 홈페이지를 제공하는 업체가 제 생각 이상으로 높은 퀄리티의 웨딩 홈페이지를 제공하고 있었습니다.</p>

<h4 id="그렇게-고민하던-중-찾은-것은-테마-마켓-플레이스입니다">그렇게 고민하던 중 찾은 것은 <code class="highlighter-rouge">테마 마켓 플레이스</code>입니다.</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>테마 마켓플레이스는 테마 상점의 일종이다. 보통의 테마 상점이 자신들이 직접 만든 테마만 판매하는 데 반해, 마켓플레이스는 디자이너와 개발자가 자신들의 테마를 가져와 팔고 마켓플레이스에 수수료를 내는 플랫폼이다.
</code></pre>
</div>

<p><a href="http://webactually.com/2012/07/워드프레스를-둘러싼-비즈니스-이야기-part1/">webactually 워드프레스를 둘러싼 비즈니스 이야기 Part1</a> 에서는 이런 종류의 테마 상점 중 가장 유명한 것은 엔바토(Envato)라는 대형 디자인 기업에서 만든 <a href="https://themeforest.net">테마포레스트</a>라고 소개했습니다.</p>

<p><img src="/images/2017/2017-03-25-DONATION/evt.png" alt="evt" /></p>

<p>다양한 종류의 무수히 많은 테마들이 올라와있고, 가격도 비교적 합리적이라고 생각이 들었습니다. 랜덤으로 유료 테마를 무료로 제공하는 이벤트도 있었고, 처음부터 무료로 등록된 테마가 많이 있습니다.</p>

<h4 id="주의해야할-것은-라이센스입니다">주의해야할 것은 <code class="highlighter-rouge">라이센스</code>입니다.</h4>

<p>테마포레스트에는 <code class="highlighter-rouge">Ragular</code> 라이센스와 <code class="highlighter-rouge">Extended</code> 라이센스가 있습니다.</p>

<p><img src="/images/2017/2017-03-25-DONATION/lis.png" alt="lis" /></p>

<ul>
  <li>
    <p><code class="highlighter-rouge">Ragular</code> <br />구매자 본인이나 구매자의 고객 1인이 단 하나의 최종 제작물에 사용할 수 있으며, 이 최종 제작물은 사용자에게 비용을 받지 않아야 한다.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">Extended</code> <br />구매자 본인이나 구매자의 고객 1인이 단 하나의 최종 제작물에 사용할 수 있으며, 이 최종 제작물은 사용자에게 비용을 받고 팔아도 된다.</p>
  </li>
</ul>

<p><strong>Extended 라이센스는 Rangular 라이센스보다 40~50배 비쌉니다.</strong> 친구를 위한 것이니, <code class="highlighter-rouge">Rangular</code> 라이센스면 되겠다고 생각이 듭니다.</p>

<h4 id="github-공유는-안됩니다">Github 공유는 안됩니다!</h4>

<p>열심히 검색으로 찾아본 결과 <code class="highlighter-rouge">Rangular</code> 라이센스로는 소스코드를 공개 저장소에 올릴 수 없다는 결론이 나왔습니다. 라이브러리 소스는 ignore 처리를..!</p>

<hr />

<h3 id="2-어플리케이션-개발-및-환경-구축">2. 어플리케이션 개발 및 환경 구축</h3>

<h4 id="해야할-것은">해야할 것은!</h4>

<ul>
  <li>
    <p>신규 프로젝트 환경 셋팅(Spring + Angularjs2)</p>

    <ul>
      <li>웨딩 페이지는 싱글 페이지 서버 템플릿 환경</li>
      <li>CMS는 SPA Angularjs2 환경</li>
    </ul>
  </li>
  <li>
    <p>Spring, AWS 간 연동(S3 서버 통신, 리소스 등)</p>
  </li>
  <li>
    <p>구매한 테마를 개발환경(Webpack)에 맞게 셋팅</p>
  </li>
  <li>
    <p>AWS 환경 구축</p>

    <ul>
      <li>EC2</li>
      <li>RDS</li>
      <li>S3</li>
      <li>Cloudfront</li>
      <li>Route53</li>
    </ul>
  </li>
</ul>

<p><img src="/images/2017/2017-03-25-DONATION/ac.png" alt="ac" /></p>

<h4 id="1-spring-boot--angularjs2--webpack-조합-개발">1. Spring Boot + Angularjs2 + Webpack 조합 개발</h4>

<p>재능기부이지만 내 연습장 같은 프로젝트이기에, BackEnd는 <code class="highlighter-rouge">Spring Framework</code>를 연습해볼 수 있는 환경으로, FrontEnd는 전부터 꼭 해보고싶었던 <code class="highlighter-rouge">Angularjs2</code>를 선택했습니다.</p>

<p><code class="highlighter-rouge">Spring Framework</code>와 <code class="highlighter-rouge">Angularjs2</code>를 단일 프로젝트 환경에서 사용하기 위하여 <code class="highlighter-rouge">Webpack</code>으로 번들링하여 사용하였습니다.(Angularjs2는 angular-cli를 권장하지만, angular-cli가 생성해주는 어플리케이션은 완전 독립된 프론트엔드 환경이라고 생각이 들어서)</p>

<h5 id="angularjs2--webpack-조합">Angularjs2 + Webpack 조합</h5>

<p><strong>1. Angularjs2와 Webpack을 함께 사용하기 위한 TypeScript의 설정</strong></p>

<blockquote>
  <p>tsconfig.json</p>
</blockquote>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"compileOnSave"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"compilerOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"sourceMap"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"declaration"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"moduleResolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"emitDecoratorMetadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"experimentalDecorators"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"es5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"commonjs"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lib"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"es2016"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"dom"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><br /></p>

<p><strong>2. Webpack에서 Angularjs2 Reflect Scope 문제를 해결하기 위하여 Provide Plugin을 활용!</strong></p>

<blockquote>
  <p>webpack.config.js</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">plugins</span><span class="err">:</span> <span class="p">[</span>
        <span class="p">...</span>
        <span class="k">new</span> <span class="nx">webpack</span><span class="p">.</span><span class="nx">ProvidePlugin</span><span class="p">({</span>
            <span class="p">...</span>
            <span class="na">Reflect</span><span class="p">:</span> <span class="s1">'core-js/es7/reflect'</span>
            <span class="p">...</span>
        <span class="p">})</span>
        <span class="p">...</span>
      <span class="p">]</span>
</code></pre>
</div>

<p><br /></p>

<p><strong>3.Webpack과 TypeScript의 동시 watch 및 build를 위한 scripts와 dependency 환경!</strong></p>

<blockquote>
  <p>package.json</p>
</blockquote>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="nt">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"typescript:watch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tsc -w"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"webpack:watch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack --watch"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"watch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npm-run-all --parallel typescript:watch webpack:watch"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tsc &amp;&amp; webpack --progress"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="nt">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"clean-webpack-plugin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.1.14"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"npm-run-all"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^4.0.2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"typescript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~2.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"webpack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~1.13.3"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><br /></p>

<h6 id="angularjs2-사용-간단-후기">Angularjs2 사용 간단 후기</h6>

<ul>
  <li>
    <p><code class="highlighter-rouge">Angularjs1</code>을 많이 사용했었는데, 느낌이 많이 비슷하여 이해하기는 쉬웠습니다.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">TypeScript</code>는 개발하면서 <code class="highlighter-rouge">Java</code>를 개발하는 느낌이였습니다. 굉장히 좋았습니다. 인텔리J의 자동완성 기능이 아주 잘 지원되어서 개발이 정말 Script스럽지않게 좋았습니다.</p>
  </li>
  <li>
    <p>React나 다른 클라이언트 라이브러리나 프레임워크와 마찬가지로 <code class="highlighter-rouge">Bootstrap</code>과 <code class="highlighter-rouge">Material Design</code> 라이브러리를 제공하여, CMS 페이지를 쉽게 만들 수 있었습니다.</p>
  </li>
</ul>

<h4 id="2-spring--aws-개발">2. Spring + AWS 개발</h4>

<p>웨딩 홈페이지에 당사자들이 앨범을 관리할 수 있도록 CMS를 제공해주려고 합니다. 그래서 서버통신으로 <code class="highlighter-rouge">AWS S3</code>에 <code class="highlighter-rouge">파일을 업로드</code>해야 합니다. 생각보다 간단했습니다.</p>

<p>AWS는 Java를 위한 <a href="http://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/setup-install.html">AWS SDK</a>를 제공해줄 뿐만아니라 <a href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/dev/UsingTheMPDotJavaAPI.html#TestingJavaSamples">AWS Docs</a>에 매우 쉽고 간단하게 사용법이 정리가 되어있습니다.</p>

<blockquote>
  <p>AwsConfig.java</p>
</blockquote>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AwsConfig</span> <span class="o">{</span>
    <span class="nd">@Value</span><span class="o">(</span><span class="s">"${cloud.aws.credentials.accessKey}"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">accessKey</span><span class="o">;</span>
    <span class="nd">@Value</span><span class="o">(</span><span class="s">"${cloud.aws.credentials.secretKey}"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">secretKey</span><span class="o">;</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="n">BasicAWSCredentials</span> <span class="nf">basicAWSCredentials</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">BasicAWSCredentials</span><span class="o">(</span><span class="n">accessKey</span><span class="o">,</span> <span class="n">secretKey</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="n">AmazonS3Client</span> <span class="nf">amazonS3Client</span><span class="o">(</span><span class="n">AWSCredentials</span> <span class="n">awsCredentials</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">AmazonS3Client</span> <span class="n">amazonS3Client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AmazonS3Client</span><span class="o">(</span><span class="n">awsCredentials</span><span class="o">);</span>
        <span class="n">amazonS3Client</span><span class="o">.</span><span class="na">setRegion</span><span class="o">(</span><span class="n">Region</span><span class="o">.</span><span class="na">getRegion</span><span class="o">(</span><span class="n">Regions</span><span class="o">.</span><span class="na">AP_NORTHEAST_2</span><span class="o">));</span>
        <span class="k">return</span> <span class="n">amazonS3Client</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>인증 방식은 <code class="highlighter-rouge">AccessKey</code>와 <code class="highlighter-rouge">SecretKey</code>를 통한 일반적인 <code class="highlighter-rouge">Client 인증 방식</code>을 가지고 있으며, SDK가 제공해주는 <code class="highlighter-rouge">AmazonS3Client</code>를 통해 쉽게 기능을 사용할 수 있었습니다.</p>

<p>이 과정에서 <code class="highlighter-rouge">AWS</code>의 <code class="highlighter-rouge">IAM</code> 관련 권한 및 보안설정을 어느정도 이해할 수 있게 되었습니다!</p>

<p><em>제가 사용한 RDS 데이터베이스(MySql) 연동은 일반 데이터베이스 연동과 완전히 같았습니다!</em></p>

<h4 id="3-aws-환경-구성">3. AWS 환경 구성</h4>

<p>처음에는 EC2에서 모든 것을 해결하려했습니다. 어차피 리눅스 서버이니 웹서버 올리고, DB올리고, 어플리케이션 올려야지 했습니다.</p>

<p>그러나 각각의 역할을 쉽게, 간단히 AWS에서 지원을 해주는데 EC2에서 모든 것을 하는 것이 약간 바보같다는 생각으로 생각이 바뀌었고, AWS를 많이 알고 싶어서도 여러가지 제품군을 써보고 싶었습니다.</p>

<p><img src="/images/2017/2017-03-25-DONATION/free.png" alt="free tier" /></p>

<p><del>가장 중요한 것은</del> 세 가지 제품의 <code class="highlighter-rouge">free tier</code>가 각 각 제품군마다 따로 잡혀서, 과금의 가능성을 줄여줄 수 있었습니다.</p>

<p><code class="highlighter-rouge">EC2</code>는 서버, <code class="highlighter-rouge">S3</code>는 이미지 저장소, <code class="highlighter-rouge">RDS</code>는 앨범 정보 저장소로 사용했습니다. 아직 <code class="highlighter-rouge">Cloudfront</code>에 대한 설명을 하지 못했는데요, 이것은 바로 밑 <code class="highlighter-rouge">비용을 줄이기 위한 노력</code>에서 설명하겠습니다.</p>

<hr />

<h3 id="3-비용을-줄이기-위한-노력들">3. 비용을 줄이기 위한 노력들</h3>

<h4 id="이미지-최적화">이미지 최적화</h4>

<p>웨딩 홈페이지인만큼 사진의 퀄리티가 중요했습니다. 그래서 원본 사진을 크기만 수정하여 올렸습니다. 단일 페이지 환경이며, 이미지를 굉장히 많이 사용하였습니다. 그런데 이미지 한개당 크기가.. 250~350kb.. 원래 이런가 해서, 다른 큰 이미지를 쓰는 여러 사이트를 돌아다녀보았지만, 정말 고해상도 이미지가 아니고서야 저런 이미지 크기를 사용하는 사람은 없었습니다.</p>

<p><strong>구글링으로 알게 된 문제점은 이미지 최적화!</strong></p>

<p>포토샵으로 이미지를 최적화(온라인 툴도 괜찬다고 합니다)하였더니 용량이 거의 60~70%가 감소했습니다.</p>

<p>그동안 그냥 받아서 쓰기만했습니다. 디자이너, 퍼블리셔님들 감사합니다.</p>

<h4 id="aws-cloudfront">AWS Cloudfront</h4>

<p>웨딩 홈페이지가 어느정도의 트래픽이 들어올지 전혀 예상되지 않기 때문에, 수치로는 계산하기 힘들었으므로, 최대한 안전하게(나의 과금을) 하고 싶었습니다.</p>

<p><img src="/images/2017/2017-03-25-DONATION/200.png" alt="200" /></p>

<p>문제로 보였던 부분은 S3의 <code class="highlighter-rouge">cache-control</code>입니다. 모든 이미지들이 <code class="highlighter-rouge">200 OK</code>를 뱉고 있었습니다. 브라우저가 캐시를 해야하는데..! <code class="highlighter-rouge">cache-control</code>은 <code class="highlighter-rouge">no-cache</code>..!</p>

<p><img src="/images/2017/2017-03-25-DONATION/nocache.png" alt="nocache" /></p>

<p>구글링하면 분명 S3에 <code class="highlighter-rouge">cache-control</code>이 있는데.. 구글링된 자료와 현재의 AWS 모양이 많이 달랐습니다. 그리고 S3의 cache-control을 검색했는데 <code class="highlighter-rouge">Cloudfront</code>가 매우 많이 나왔습니다.</p>

<p>대충 찾아본 <code class="highlighter-rouge">Cloudfront</code>는 CDN 역할을 해준다는 글을 보고 다 읽지않고 다시 구글링을 계속 했습니다. 제가 필요한건 CDN과는 거리가 멀었기 때문입니다.</p>

<p><img src="/images/2017/2017-03-25-DONATION/ohh.png" alt="evt" /></p>

<p>다들 그런 경험 많지않으신가요? 대체로 오랫동안 구글링에서 답을 찾지 못했던 문제는 처음 보았던 글이 답이였던..?</p>

<p>정확히 파악은 하지 못했지만, 이전 S3의 <code class="highlighter-rouge">cache-control</code> 기능이 <code class="highlighter-rouge">Cloudfront</code> 쪽으로 옮겨진 것이라고 생각됩니다.</p>

<p>결론으로는 <strong>S3와 Cloudfront를 연결하여 <code class="highlighter-rouge">cache-control</code>로 브라우저 캐시하게 할 수 있었다</strong> 입니다.</p>

<h4 id="서버-메모리-캐시">서버 메모리 캐시</h4>

<p>데이터베이스를 매번 조회하지 않도록, 24시간에 한번씩 메모리에 캐시하도록 했습니다.</p>

<h4 id="무료-서비스-이용">무료 서비스 이용</h4>

<p>소셜 댓글 기능은 만들어놓은 것이 없기때문에, 다른 모든 작업보다 더 큰 작업이 될 수도 있으며, 저장소 또한 늘어날 수 있습니다. 그래서 소셜댓글 서비스인 <code class="highlighter-rouge">Disqus</code>를 그냥 붙였습니다.</p>

<p>비용과 시간을 절약할 수 있었습니다.</p>

<hr />

<h2 id="재능기부-후기">재능기부 후기</h2>

<h3 id="재능기부">재능기부</h3>

<p><img src="/images/2017/2017-03-25-DONATION/wedding.gif" alt="wedding" /></p>

<p>친구는 예쁘고 깔끔한 웨딩 홈페이지가 나왔다고 좋아합니다. 그래서 일단 재능기부의 의미에서는 성공적이였습니다.</p>

<h3 id="기술-사용과-습득의-목마름-해소">기술 사용과 습득의 목마름 해소</h3>

<p>만들어야할 목표가 있고, 의미가 있었기에 기술을 사용하는 것의 범위가 명확하고 깊어질 수 있었던 것 같습니다.</p>

<p>웨딩 홈페이지라는 특성을 고려하여야 했고, 비용을 최소화할 수 있도록 여러가지 시도와 다양한 방법들을 찾아보고 직접 해볼 수 있었다는 것이, 로컬환경에서 구동하였던 개인 프로젝트와는 깊이가 달랐던 것 같습니다. 좋은 경험이였다고 자신합니다.</p>

<hr />

<h2 id="마무리">마무리</h2>

<p>저와 같이 기술 사용이나 습득에 목말라있고, 서비스를 운영할만한 아이템이 없는 분들은 친한 주변 사람들에게 이런 재능기부를 강력 추천드립니다(기회가 있다면). 내가 가진 기술로 누군가를 만족시킬 수 있다는 일은 정말 기분 좋은 일인 것 같습니다.</p>

<p><img src="/images/2017/2017-03-25-DONATION/hero.png" alt="hero" /></p>

<p><a href="https://github.com/kingbbode/wedding-home">Wedding Home : GITHUB</a></p>

          </div>

          <div class="article-share">
            
            <a href="" title="Share on Twitter" onclick="window.open('https://twitter.com/home?status=개발자의 재능기부 == 자기개발 - https://kingbbode.github.io/posts/donation ', 'newwindow', 'width=500, height=225'); return false;" data-turbolinks="false">
              <svg enable-background="new 0 0 128 128" width="15px" version="1.1" viewBox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="_x37__stroke"><g id="Twitter"><rect clip-rule="evenodd" fill="none" fill-rule="evenodd" height="128" width="128"/><path clip-rule="evenodd" d="M128,23.294    c-4.703,2.142-9.767,3.59-15.079,4.237c5.424-3.328,9.587-8.606,11.548-14.892c-5.079,3.082-10.691,5.324-16.687,6.526    c-4.778-5.231-11.608-8.498-19.166-8.498c-14.493,0-26.251,12.057-26.251,26.927c0,2.111,0.225,4.16,0.676,6.133    C41.217,42.601,21.871,31.892,8.91,15.582c-2.261,3.991-3.554,8.621-3.554,13.552c0,9.338,4.636,17.581,11.683,22.412    c-4.297-0.131-8.355-1.356-11.901-3.359v0.331c0,13.051,9.053,23.937,21.074,26.403c-2.201,0.632-4.523,0.948-6.92,0.948    c-1.69,0-3.343-0.162-4.944-0.478c3.343,10.694,13.035,18.483,24.53,18.691c-8.986,7.227-20.315,11.533-32.614,11.533    c-2.119,0-4.215-0.123-6.266-0.37c11.623,7.627,25.432,12.088,40.255,12.088c48.309,0,74.717-41.026,74.717-76.612    c0-1.171-0.023-2.342-0.068-3.49C120.036,33.433,124.491,28.695,128,23.294" fill-rule="evenodd" id="Twitter_1_"/></g></g></svg>
            </a>
            <a href="" title="Share on Facebook" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=https://kingbbode.github.io/posts/donation', 'newwindow', 'width=500, height=500'); return false;" data-turbolinks="false">
              <svg enable-background="new 0 0 128 128" width="15px" version="1.1" viewBox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="_x31__stroke"><g id="Facebook_1_"><rect fill="none" height="128" width="128"/><path clip-rule="evenodd" d="M68.369,128H7.065C3.162,128,0,124.836,0,120.935    V7.065C0,3.162,3.162,0,7.065,0h113.871C124.837,0,128,3.162,128,7.065v113.87c0,3.902-3.163,7.065-7.064,7.065H88.318V78.431    h16.638l2.491-19.318H88.318V46.78c0-5.593,1.553-9.404,9.573-9.404l10.229-0.004V20.094c-1.769-0.235-7.841-0.761-14.906-0.761    c-14.749,0-24.846,9.003-24.846,25.535v14.246H51.688v19.318h16.681V128z" fill-rule="evenodd" id="Facebook"/></g></g></svg>
            </a>
            <a href="" title="Share on Google+" onclick="window.open('https://plus.google.com/share?url=https://kingbbode.github.io/posts/donation', 'newwindow', 'width=550, height=400'); return false;" data-turbolinks="false">
              <svg enable-background="new 0 0 128 128" version="1.1" viewBox="0 0 128 128" width="20px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="_x35__stroke"><g id="Google_Plus"><rect clip-rule="evenodd" fill="none" fill-rule="evenodd" height="128" width="128"/><path clip-rule="evenodd" d="M40.654,55.935v16.13    c0,0,15.619-0.021,21.979-0.021C59.189,82.5,53.834,88.194,40.654,88.194c-13.338,0-23.748-10.832-23.748-24.194    s10.41-24.194,23.748-24.194c7.052,0,11.607,2.483,15.784,5.944c3.344-3.35,3.065-3.828,11.573-11.877    c-7.222-6.586-16.822-10.6-27.357-10.6C18.201,23.273,0,41.507,0,64c0,22.493,18.201,40.727,40.654,40.727    c33.561,0,41.763-29.275,39.044-48.792H40.654z M113.912,56.742V42.628h-10.063v14.113H89.358v10.081h14.491v14.517h10.063V66.823    H128V56.742H113.912z" fill-rule="evenodd" id="Google_Plus_1_"/></g></g></svg>
            </a>
          </div>

          
            <div id="disqus_thread" class="article-comments"></div>
            <script>
              (function() {
                  var d = document, s = d.createElement('script');
                  s.src = '//kingbbode.disqus.com/embed.js';
                  s.setAttribute('data-timestamp', +new Date());
                  (d.head || d.body).appendChild(s);
              })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          
        </article>
        <footer class="footer reveal">
  <p>
    @Copyright 2017 by <a href="/about" title="About me">Kingbbode</a> / template for Jekyll built by <a href="http://chalk.nielsenramon.com/about" title="About me">Nielsen Ramon</a>
  </p>
</footer>

      </div>
    </div>
  </main>
  <script type="text/javascript" src="/assets/vendor.js"></script>
<script type="text/javascript" src="/assets/application.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Cormorant Garamond:700', 'Lato:300,400,700']
    }
  });
</script>


  <script>
    window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
    ga('create','UA-75876601-1','auto');ga('send','pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>


</body>
</html>
